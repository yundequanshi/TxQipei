package com.zuomei.utils;import android.graphics.Bitmap;import android.graphics.BitmapFactory;import java.io.File;import java.io.FileInputStream;import java.io.FileNotFoundException;import java.io.IOException;import java.io.InputStream;public class BitmapUtil {    public static Bitmap decodeFile(String filePath) {        Bitmap bitmap = null;        if (filePath != null) {            InputStream is = null;            File file = new File(filePath);            if (file.exists()) {                try {                    is = new FileInputStream(file);                    bitmap = decodeStream(is);                    return bitmap;                } catch (FileNotFoundException e) {                    e.printStackTrace();                    return null;                } finally {                    try {                        is.close();                    } catch (IOException e) {                        e.printStackTrace();                    }                }            }        }        return null;    }    public static Bitmap decodeStream(InputStream is) {        Bitmap bitmap = null;        BitmapFactory.Options options = new BitmapFactory.Options();        options.inPurgeable = true;//		try {//			BitmapFactory.Options.class.getField("inNativeAlloc").setBoolean(options,true); //		}catch (IllegalArgumentException e) {//		 	e.printStackTrace(); //		} catch (SecurityException e) {//		 	e.printStackTrace(); //		} catch (IllegalAccessException e) {//		 	e.printStackTrace(); //		} catch (NoSuchFieldException e) {//		 	e.printStackTrace(); //		}         if (is != null) {            bitmap = BitmapFactory.decodeStream(is, null, options);        }        return bitmap;    }}